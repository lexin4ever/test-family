## Редактор семей.

### Задача

Возможность добавлять людей. Объединять их в семьи. Искать по людям.

Возможность построить генеалогическое дерево по выбранному человеку.

Верстка не нужна, можно просто текстом или очень простыми html-элементами.

Single Page Application, можно использовать произвольные фреймворки.

BackEnd и сохранение этого - по желанию, если будет время


### Заметки разработчика

Я не стал использовать всякие там express, потому как тут слишком маленький функционал, чтобы подключать тяжёлую артилерию.
К тому же, я хотел подчеркнуть, что понимаю как это работает и могу ~~писать велосипеды~~ реализовать то же функционал без использования библиотек.

Можно создавать новых людей, просматривать всех, искать среди них, создавать отношения типа родитель->ребёнок.
Жениться увы нельзя.
Не знаю почему... может потому что забыл, а может потому что в переменных у меня только мужики, а дети приёмные.

#### Дисклеймер
И не пытайтесь его сломать сервер, поверьте, у вас получится, это очень просто.
Отсутствует очень много проверок на входные данные (например можно сделать ребёнка своим же отцом O_o)
Чтобы создать нового человека пользуйтесь формой справа,
чтобы просматривать людей - таблица слева.
Чтобы создать отношение родитель->ребёнок выберите родителя, нажмите плюсик в секции дети, выберите ребёнка в таблице.
Чтобы удалить ранее созданого ребёнка, нажмите на него в секции дети.
Чтобы посмотреть всю (!) семью человека выберите его и нажмите кнопку "граф".
Сервер помнит всё в памяти RAM и забудет всех при перезапуске.

#### В двух словах

Ради интереса сделал что-то вроде HashMap, понятно, что это не тот случай, чтобы его использовать.
Но теоритически при больших массивов данных и при поиске точного совпадения самое то.
Прадва лучше бы ещё отправлять данные сразу как только что-то "нашлось", я имею в виду `Transfer-Encoding:chunked` как он есть во всей красе.
Но это уже делать было точно лень =).
Базы данных нет как таковой, но интерфейс сделал чем-то похожим.
То есть добавить её при необходимости не такая уж и проблема будет, просто не хотелось замарачиваться с поддержкой всего.
Тесты увы, отсутствуют.
Грустно, печально, но их писать тут можно достаточно много, не хочется тратить время.

За frontend честно, извеняюсь.
Следовало бы мне подключить `andular.js`, как я люблю, сделать номальную модель (сервис), выделить контроллер.
Но мне надоело тестировать с помощью `curl` по этому интерфейс слепился как есть на скорую руку.
Так это свалкой и осталось, так разгребать это и не хочется.
Ну как разгребать, надо садиться, определяться с фреймворками, вдумчиво расчертить архитектуру и написать.
Но ведь тестовое задание не о том?

#### быстрый старт

```bash
npm install
node server.js &
curl -XPOST 'http://localhost:8888/api/people' -d '{"firstName":"Бабушка","lastName":"Одна","middleName":"Пробабушковна"}'
curl -XPOST 'http://localhost:8888/api/people' -d '{"firstName":"Бабушка","lastName":"вторая","middleName":"Пробабушковна"}'
curl -XPOST 'http://localhost:8888/api/people' -d '{"firstName":"Дедушка","lastName":"Одна","middleName":"Продедушкин"}'
curl -XPOST 'http://localhost:8888/api/people' -d '{"firstName":"Дедушка","lastName":"Второй","middleName":"Продедушкин"}'
curl -XPOST 'http://localhost:8888/api/people' -d '{"firstName":"Отец","lastName":"Одна","middleName":"Дедушкин"}'
curl -XPOST 'http://localhost:8888/api/people' -d '{"firstName":"Мать","lastName":"Одна (вторая)","middleName":"Бабушкина"}'
curl -XPOST 'http://localhost:8888/api/people' -d '{"firstName":"Сын","lastName":"Одна","middleName":"Отцовый"}'
curl -XPOST 'http://localhost:8888/api/people' -d '{"firstName":"Дочь","lastName":"Одна","middleName":"Отцовая"}'
curl -XPOST 'http://localhost:8888/api/people' -d '{"firstName":"Отец","lastName":"Третий","middleName":"Дедушкин"}'
curl -XPOST 'http://localhost:8888/api/people' -d '{"firstName":"Сын","lastName":"Третий","middleName":"Отцовый"}'
curl -XPOST 'http://localhost:8888/api/people' -d '{"firstName":"Человек","lastName":"Второй","middleName":"Другой"}'
curl -XPOST 'http://localhost:8888/api/relation/1/5' -d '{}'
curl -XPOST 'http://localhost:8888/api/relation/3/5' -d '{}'
curl -XPOST 'http://localhost:8888/api/relation/2/6' -d '{}'
curl -XPOST 'http://localhost:8888/api/relation/5/7' -d '{}'
curl -XPOST 'http://localhost:8888/api/relation/5/8' -d '{}'
curl -XPOST 'http://localhost:8888/api/relation/6/7' -d '{}'
curl -XPOST 'http://localhost:8888/api/relation/6/8' -d '{}'
curl -XPOST 'http://localhost:8888/api/relation/1/9' -d '{}'
curl -XPOST 'http://localhost:8888/api/relation/3/9' -d '{}'
curl -XPOST 'http://localhost:8888/api/relation/9/10' -d '{}'
```

И открываем в браузере [http://localhost:8888](http://localhost:8888)

![Проверка](/demo.png?raw=true "Проверка")